[inner]
version = "1.0.0" # 版本号
# 请勿修改版本号，除非你知道自己在做什么

[discord] # Discord Bot 设置
token = "your_discord_bot_token_"

[chat]
# 获取服务器 ID：右键点击服务器名称 -> 复制服务器 ID
# 获取频道 ID：右键点击频道名称 -> 复制频道 ID
# 获取子区 ID：右键点击子区名称 -> 复制子区 ID
# 获取用户 ID：右键点击用户头像 -> 复制用户 ID
# 注意：需要开启 Discord 开发者模式（用户设置 -> 高级 -> 开发者模式）
guild_list_type = "blacklist" # 服务器名单类型，可选为：whitelist, blacklist
guild_list = []               # 服务器名单
# 当 guild_list_type 为 whitelist 时，只有服务器名单中的服务器可以使用 Bot
# 当 guild_list_type 为 blacklist 时，服务器名单中的任何服务器无法使用 Bot

channel_list_type = "blacklist" # 频道名单类型，可选为：whitelist, blacklist
channel_list = []               # 频道名单
# 当 channel_list_type 为 whitelist 时，只有频道名单中的频道可以使用 Bot
# 当 channel_list_type 为 blacklist 时，频道名单中的任何频道无法使用 Bot
thread_list_type = "blacklist" # 子区名单类型，可选为：whitelist, blacklist
thread_list = []               # 子区名单
# 当 thread_list_type 为 whitelist 时，只有子区名单中的子区可以使用 Bot
# 当 thread_list_type 为 blacklist 时，子区名单中的任何子区无法使用 Bot

user_list_type = "blacklist"  # 用户名单类型，可选为：whitelist, blacklist
user_list = []                # 用户名单
# 当 user_list_type 为 whitelist 时，只有用户名单中的用户可以使用 Bot
# 当 user_list_type 为 blacklist 时，用户名单中的任何用户无法使用 Bot

# 子区相关设置
allow_thread_interaction = true  # 是否允许子区交互，设为 false 可全局禁用子区功能
inherit_channel_permissions = true  # 子区是否继承父频道权限
inherit_channel_memory = true  # 子区是否继承父频道记忆，设为 true 时子区与父频道共享聊天记录和记忆
# 注意：inherit_channel_memory 设为 true 时：
#   - 子区消息会使用父频道ID作为群组ID，与父频道共享记忆和上下文
#   - MaiBot Core 看到的是统一的频道对话，能够跨子区理解话题
#   - 回复消息时会智能识别原始子区，确保消息发送到正确的位置
#   - 在群组名称中会显示当前所在的子区信息，帮助AI理解对话位置
# 当 inherit_channel_permissions 为 true 时：
#   - 子区继承其父频道的权限配置（推荐设置）
#   - 只要父频道允许交互，子区也允许交互
#   - 忽略下方的 thread_list_type 和 thread_list 设置
# 当 inherit_channel_permissions 为 false 时：
#   - 子区使用独立的黑白名单配置
#   - 需要单独配置 thread_list_type 和 thread_list
#   - 如果子区不在允许列表中，将完全不处理子区消息

[maibot_server] # 连接 MaiBot Core 的服务设置
host = "127.0.0.1" # MaiBot Core 主机地址
port = 8000        # MaiBot Core 端口
platform_name = "discord_bot_instance_1" # 平台标识符，目前仅作为标记使用，不同实例请勿重复

[debug]
level = "DEBUG" # 日志等级（DEBUG, INFO, WARNING, ERROR, CRITICAL）
log_file = "logs/discord_adapter.log" # 日志文件路径

# Discord 权限意图设置
[discord.intents]
messages = true
guilds = true
dm_messages = true
message_content = true
voice_states = true  # 语音状态权限，启用语音功能时需要

# Discord 连接重试设置
[discord.retry]
retry_delay = 5                  # 重试间隔（秒）
connection_check_interval = 30  # 连接状态检查间隔（秒），建议30秒以上避免频繁检查

# 语音功能设置
[voice]
enabled = false  # 是否启用语音功能
voice_channel_whitelist = []  # 语音频道白名单（右键点击语音频道 -> 复制频道 ID）
                               # 示例: [1234567890, 9876543210]
                               # 单个频道：Bot 固定在该频道
                               # 多个频道：Bot 自动跟随有人的频道
check_interval = 30       # 频道切换检查间隔（秒），仅在白名单有多个频道时生效
tts_provider = "azure"    # TTS 提供商（可选：azure, ai_hobbyist, siliconflow）
stt_provider = "azure"    # STT 提供商（可选：azure, aliyun, siliconflow）


# Azure 语音服务配置
[voice.azure]
subscription_key = "your_azure_speech_key"  # Azure 语音服务密钥
region = "eastasia"  # Azure 服务区域（eastasia, southeastasia, westus 等）
tts_voice = "zh-CN-XiaoxiaoNeural"  # TTS 语音名称
                                     # 更多语音选项: https://learn.microsoft.com/azure/cognitive-services/speech-service/language-support
stt_language = "zh-CN"  # STT 识别语言

# 阿里云语音服务配置
[voice.aliyun]
access_key_id = ""
access_key_secret = ""
app_key = ""

# AI Hobbyist TTS 配置（GPT-SoVITS v4）
[voice.ai_hobbyist]
# 官方站点：https://tts.acgnai.top/
# API 说明：GET /models/v4 可获取模型列表，POST /infer_single 进行语音合成。
api_base = "https://gsv2p.acgnai.top"  # 推理服务基础地址，默认保持不变
api_token = ""  # 访问令牌（登录官网后在右上角用户菜单中获取）
model_name = "原神_中文_芙宁娜_ZH"  # 默认语音模型，可用列表见 /models/v4
language = "中文"  # 提示文本语言（prompt_text_lang & text_lang），与模型语言匹配
emotion = "默认"   # 语气参数，具体可用值取决于所选模型

# SiliconFlow 语音服务配置
[voice.siliconflow]
api_key = ""  # SiliconFlow API 密钥（从 https://cloud.siliconflow.cn/account/ak 获取）
api_base = "https://api.siliconflow.cn/v1"  # API 基础地址
tts_model = "fnlp/MOSS-TTSD-v0.5"  # TTS 模型名称
tts_voice = "fnlp/MOSS-TTSD-v0.5:alex"  # TTS 语音音色
                                         # 可选音色: alex, anna, bella, benjamin, charles, claire, david, diana
stt_model = "FunAudioLLM/SenseVoiceSmall"  # STT 模型名称
response_format = "pcm"  # 音频输出格式：mp3, opus, wav, pcm
sample_rate = 44100      # 采样率（Hz）
speed = 1.0              # 语速（0.25-4.0）

























































